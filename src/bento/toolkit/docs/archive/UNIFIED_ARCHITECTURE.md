# Bento ç»Ÿä¸€æ¶æ„è§„èŒƒ

## ğŸ¯ æ¶æ„å†³ç­–

**Bento Framework ç°å·²ç»Ÿä¸€é‡‡ç”¨ Modular Monolithï¼ˆæ¨¡å—åŒ–å•ä½“ï¼‰æ¶æ„ã€‚**

### å†³ç­–ç†ç”±

1. **è¾¹ç•Œæ¸…æ™°** - å¼ºåˆ¶æŒ‰è¾¹ç•Œä¸Šä¸‹æ–‡ç»„ç»‡ï¼Œé¿å…æ··ä¹±ä¾èµ–
2. **å›¢é˜Ÿåä½œ** - æ”¯æŒå¤šå›¢é˜Ÿå¹¶è¡Œå¼€å‘ä¸åŒä¸Šä¸‹æ–‡
3. **å¯æ¼”åŒ–æ€§** - æ˜“äºé‡æ„å’Œæ‹†åˆ†ä¸ºå¾®æœåŠ¡
4. **ç¬¦åˆ DDD** - å®Œæ•´æ”¯æŒæˆ˜ç•¥è®¾è®¡å’Œæˆ˜æœ¯è®¾è®¡
5. **ç®€åŒ–é€‰æ‹©** - ç§»é™¤æ¶æ„é€‰æ‹©çš„å¤æ‚æ€§ï¼Œé™ä½å­¦ä¹ æˆæœ¬

---

## ğŸ—ï¸ å”¯ä¸€æ”¯æŒçš„æ¶æ„

### Modular Monolith

```
my-app/
â”œâ”€â”€ contexts/                # è¾¹ç•Œä¸Šä¸‹æ–‡ï¼ˆå¿…é¡»ï¼‰
â”‚   â”œâ”€â”€ catalog/            # äº§å“ç›®å½•ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â”œâ”€â”€ ordering/           # è®¢å•ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â””â”€â”€ shared/             # å…±äº«å†…æ ¸
â”‚       â”œâ”€â”€ domain/
â”‚       â””â”€â”€ events/
â””â”€â”€ tests/                  # æŒ‰ä¸Šä¸‹æ–‡ç»„ç»‡
    â”œâ”€â”€ catalog/
    â”œâ”€â”€ ordering/
    â””â”€â”€ shared/
```

---

## ğŸ“ CLI ä½¿ç”¨

### åˆå§‹åŒ–é¡¹ç›®

```bash
# æ— éœ€æŒ‡å®šæ¶æ„ï¼Œé»˜è®¤ä¸”å”¯ä¸€ä¸º Modular Monolith
bento init my-app --description "My Application"
```

### ç”Ÿæˆæ¨¡å—

```bash
# --context å‚æ•°ç°åœ¨æ˜¯**å¿…å¡«**çš„
bento gen module Product \
  --context catalog \
  --fields "name:str,price:float"

# âŒ é”™è¯¯ï¼šç¼ºå°‘ --context å‚æ•°ä¼šæŠ¥é”™
bento gen module Product --fields "name:str,price:float"
```

---

## ğŸ”„ ä¸ä¹‹å‰çš„å˜åŒ–

| æ–¹é¢ | ä¹‹å‰ | ç°åœ¨ |
|-----|------|------|
| **æ¶æ„é€‰æ‹©** | `--architecture layered\|modular-monolith` | æ— é€‰é¡¹ï¼Œç»Ÿä¸€ä¸º Modular Monolith |
| **context å‚æ•°** | å¯é€‰ | **å¿…å¡«** |
| **ç›®å½•ç»“æ„** | ä¸¤ç§ï¼ˆdomain/ æˆ– contexts/ï¼‰ | å”¯ä¸€ï¼ˆcontexts/ï¼‰ |
| **å¤æ‚åº¦** | éœ€è¦é€‰æ‹©æ¶æ„ | æ— éœ€é€‰æ‹©ï¼Œç®€åŒ– |

---

## âœ… ä¼˜åŠ¿

### 1. å¼ºåˆ¶æœ€ä½³å®è·µ
- æ‰€æœ‰é¡¹ç›®éƒ½éµå¾ªç›¸åŒçš„æ¶æ„æ¨¡å¼
- æ–°æ‰‹æ— éœ€çº ç»“æ¶æ„é€‰æ‹©
- å›¢é˜Ÿå†…éƒ¨è§„èŒƒç»Ÿä¸€

### 2. ç®€åŒ– CLI
- ç§»é™¤ `--architecture` å‚æ•°
- `--context` å˜ä¸ºå¿…å¡«ï¼Œå¼ºåˆ¶æ€è€ƒä¸Šä¸‹æ–‡è¾¹ç•Œ
- å‘½ä»¤æ›´æ¸…æ™°ç›´æ¥

### 3. æ›´å¥½çš„ä»£ç ç»„ç»‡
- å¼ºåˆ¶æŒ‰ä¸šåŠ¡èƒ½åŠ›åˆ’åˆ†ä¸Šä¸‹æ–‡
- é¿å…æŠ€æœ¯åˆ†å±‚å¯¼è‡´çš„æ··ä¹±
- æ˜“äºæ‰¾åˆ°ç›¸å…³ä»£ç 

### 4. é¢å‘æœªæ¥
- ä¸ºå¾®æœåŠ¡åŒ–åšå¥½å‡†å¤‡
- ä¸Šä¸‹æ–‡å¯ç‹¬ç«‹æ¼”åŒ–
- æ˜“äºé‡æ„å’Œä¼˜åŒ–

---

## ğŸ“š å®Œæ•´ç¤ºä¾‹

### åˆ›å»ºç”µå•†åº”ç”¨

```bash
# 1. åˆå§‹åŒ–é¡¹ç›®
bento init ecommerce

cd ecommerce

# 2. åˆ›å»ºäº§å“ç›®å½•ä¸Šä¸‹æ–‡
bento gen module Product \
  --context catalog \
  --fields "name:str,description:str,price:float,stock:int"

bento gen module Category \
  --context catalog \
  --fields "name:str,parent_id:str"

# 3. åˆ›å»ºè®¢å•ä¸Šä¸‹æ–‡
bento gen module Order \
  --context ordering \
  --fields "customer_id:str,total:float,status:str"

bento gen module OrderItem \
  --context ordering \
  --fields "order_id:str,product_id:str,quantity:int"

# 4. åˆ›å»ºèº«ä»½ä¸Šä¸‹æ–‡
bento gen module User \
  --context identity \
  --fields "username:str,email:str,hashed_password:str"

# 5. åˆ›å»ºåº“å­˜ä¸Šä¸‹æ–‡
bento gen module Stock \
  --context inventory \
  --fields "product_id:str,quantity:int,warehouse:str"
```

### ç”Ÿæˆçš„ç»“æ„

```
ecommerce/
â”œâ”€â”€ contexts/
â”‚   â”œâ”€â”€ catalog/
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ product.py
â”‚   â”‚   â”‚   â”œâ”€â”€ category.py
â”‚   â”‚   â”‚   â””â”€â”€ events/
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â””â”€â”€ usecases/
â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â”‚       â”œâ”€â”€ models/
â”‚   â”‚       â”œâ”€â”€ mappers/
â”‚   â”‚       â””â”€â”€ repositories/
â”‚   â”œâ”€â”€ ordering/
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â”œâ”€â”€ identity/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ inventory/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ domain/
â”‚       â””â”€â”€ events/
â””â”€â”€ tests/
    â”œâ”€â”€ catalog/
    â”œâ”€â”€ ordering/
    â”œâ”€â”€ identity/
    â””â”€â”€ inventory/
```

---

## ğŸ“ è®¾è®¡æŒ‡å—

### è¯†åˆ«è¾¹ç•Œä¸Šä¸‹æ–‡

æŒ‰**ä¸šåŠ¡èƒ½åŠ›**åˆ’åˆ†ï¼Œè€Œä¸æ˜¯æŠ€æœ¯åŠŸèƒ½ï¼š

#### âœ… å¥½çš„ä¸Šä¸‹æ–‡

- `catalog` - äº§å“ç›®å½•ç®¡ç†
- `ordering` - è®¢å•å¤„ç†
- `inventory` - åº“å­˜ç®¡ç†
- `payment` - æ”¯ä»˜å¤„ç†
- `shipping` - ç‰©æµé…é€
- `identity` - ç”¨æˆ·èº«ä»½

#### âŒ é”™è¯¯çš„ä¸Šä¸‹æ–‡

- `crud` - æŠ€æœ¯æ“ä½œï¼Œä¸æ˜¯ä¸šåŠ¡èƒ½åŠ›
- `validation` - æŠ€æœ¯å…³æ³¨ç‚¹
- `database` - åŸºç¡€è®¾æ–½ç»†èŠ‚

### ä¸Šä¸‹æ–‡å¤§å°

- **2-10 ä¸ªèšåˆæ ¹** - ç†æƒ³å¤§å°
- **å•ä¸€èŒè´£** - ä¸€ä¸ªæ ¸å¿ƒä¸šåŠ¡èƒ½åŠ›
- **ç‹¬ç«‹æ¼”åŒ–** - å¯ç‹¬ç«‹ä¿®æ”¹å’Œéƒ¨ç½²

### ä¸Šä¸‹æ–‡é€šä¿¡

1. **é›†æˆäº‹ä»¶**ï¼ˆè·¨ä¸Šä¸‹æ–‡å¼‚æ­¥é€šä¿¡ï¼‰
2. **æŸ¥è¯¢æ¥å£**ï¼ˆè·¨ä¸Šä¸‹æ–‡è¯»å–æ•°æ®ï¼‰
3. **å…±äº«å†…æ ¸**ï¼ˆå…±äº«å€¼å¯¹è±¡å’Œæ¥å£ï¼‰

---

## ğŸš€ ç«‹å³å¼€å§‹

```bash
# 1. åˆ›å»ºæ–°é¡¹ç›®
bento init my-awesome-app

cd my-awesome-app

# 2. ç”Ÿæˆç¬¬ä¸€ä¸ªä¸Šä¸‹æ–‡
bento gen module Product \
  --context catalog \
  --fields "name:str,price:float"

# 3. è¿è¡Œåº”ç”¨
cp .env.example .env
uv pip install -e .
uvicorn main:app --reload

# 4. è®¿é—® API æ–‡æ¡£
open http://localhost:8000/docs
```

---

## ğŸ“Š ç»Ÿè®¡

### ç”Ÿæˆçš„æ–‡ä»¶æ•°é‡

æ¯ä¸ªæ¨¡å—ç”Ÿæˆ **9 ä¸ªæ–‡ä»¶**ï¼š
- 1 ä¸ªèšåˆæ ¹
- 1 ä¸ªé¢†åŸŸäº‹ä»¶
- 1 ä¸ª POï¼ˆæŒä¹…åŒ–å¯¹è±¡ï¼‰
- 1 ä¸ª Mapper æ¥å£
- 1 ä¸ª Repository æ¥å£
- 1 ä¸ª UseCase
- 3 ä¸ªæµ‹è¯•æ–‡ä»¶ï¼ˆå•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•ï¼‰

### èŠ‚çœçš„æ—¶é—´

- **æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡**: ~45-60 åˆ†é’Ÿ
- **ä½¿ç”¨ Bento CLI**: ~5 ç§’
- **æ•ˆç‡æå‡**: **500+ å€**

---

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

1. **ä¸Šä¸‹æ–‡ä¼˜å…ˆ** - å§‹ç»ˆæŒ‰è¾¹ç•Œä¸Šä¸‹æ–‡ç»„ç»‡ä»£ç 
2. **æ˜¾å¼ä¾èµ–** - ä½¿ç”¨æ¥å£å®šä¹‰ä¸Šä¸‹æ–‡é—´ä¾èµ–
3. **äº‹ä»¶é©±åŠ¨** - è·¨ä¸Šä¸‹æ–‡é€šè¿‡äº‹ä»¶é€šä¿¡
4. **ç‹¬ç«‹æ¼”åŒ–** - æ¯ä¸ªä¸Šä¸‹æ–‡å¯ç‹¬ç«‹ä¿®æ”¹
5. **æµ‹è¯•éš”ç¦»** - æŒ‰ä¸Šä¸‹æ–‡ç»„ç»‡å’Œè¿è¡Œæµ‹è¯•

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [Modular Monolith Guide](./MODULAR_MONOLITH_GUIDE.md) - å®Œæ•´æ¶æ„æŒ‡å—
- [CLI Usage Guide](./CLI_USAGE_GUIDE.md) - CLI ä½¿ç”¨æŒ‡å—
- [Project Init Guide](./PROJECT_INIT_GUIDE.md) - é¡¹ç›®åˆå§‹åŒ–æŒ‡å—

---

**Bento Framework - ç»Ÿä¸€è§„èŒƒï¼Œä¸“æ³¨ DDDï¼Œæ„å»ºå¯æ¼”åŒ–çš„åº”ç”¨ï¼** ğŸ±
