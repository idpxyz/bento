# -*- coding: utf‑8 -*-
"""Constant tables for Heavenly Stems, Earthly Branches & basic relations."""
from __future__ import annotations

# Heavenly stems & earthly branches ------------------------------------------------
GAN: str = "甲乙丙丁戊己庚辛壬癸"
ZHI: str = "子丑寅卯辰巳午未申酉戌亥"

GAN2IDX: dict[str, int] = {g: i for i, g in enumerate(GAN)}
ZHI2IDX: dict[str, int] = {z: i for i, z in enumerate(ZHI)}

# 60‑JiaZi list
JIA_ZI: list[str] = [GAN[i % 10] + ZHI[i % 12] for i in range(60)]

# -------------------------------- 关系表 -----------------------------------------
# 六合 / 六冲 / 三合 已有；扩展 刑、害、破
LIU_HE: dict[str, str] = {
    "子": "丑", "寅": "亥", "卯": "戌", "辰": "酉", "巳": "申", "午": "未",
}
LIU_CHONG: dict[str, str] = {
    "子": "午", "丑": "未", "寅": "申", "卯": "酉", "辰": "戌", "巳": "亥",
}
SAN_HE: list[set[str]] = [
    {"申", "子", "辰"}, {"亥", "卯", "未"}, {"寅", "午", "戌"}, {"巳", "酉", "丑"},
]
# 三刑 / 六害 / 六破 (简化常用版本)
XING: dict[str, str] = {
    "子": "卯", "卯": "子",  # 无礼之刑
    "寅": "巳", "巳": "申", "申": "寅",  # 寅巳申 三刑
    "丑": "戌", "戌": "未", "未": "丑",  # 丑未戌 刑
}
HAI: dict[str, str] = {
    "子": "未", "丑": "午", "寅": "巳", "卯": "辰",
    "申": "亥", "酉": "戌",
}
PO: dict[str, str] = {
    "子": "酉", "丑": "辰", "寅": "亥", "卯": "午",
    "申": "巳", "未": "戌",
}

# -------------------------------- 纳音表 -----------------------------------------
# 60 Na‑Yin list (index aligned with JIA_ZI)
_NAYIN_60: list[str] = [
    "海中金", "海中金", "炉中火", "炉中火", "大林木", "大林木", "路旁土", "路旁土", "剑锋金", "剑锋金",
    "山头火", "山头火", "涧下水", "涧下水", "城头土", "城头土", "白蜡金", "白蜡金", "杨柳木", "杨柳木",
    "泉中水", "泉中水", "屋上土", "屋上土", "霹雳火", "霹雳火", "松柏木", "松柏木", "长流水", "长流水",
    "砂中金", "砂中金", "山下火", "山下火", "平地木", "平地木", "壁上土", "壁上土", "金箔金", "金箔金",
    "佛灯火", "佛灯火", "天河水", "天河水", "大驿土", "大驿土", "钗钏金", "钗钏金", "桑柘木", "桑柘木",
    "大溪水", "大溪水", "沙中土", "沙中土", "天上火", "天上火", "石榴木", "石榴木", "大海水", "大海水",
]
NAYIN_MAP: dict[str, str] = {JIA_ZI[i]: _NAYIN_60[i] for i in range(60)}
