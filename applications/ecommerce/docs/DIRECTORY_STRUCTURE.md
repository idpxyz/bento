# E-commerce Application - Directory Structure

## âœ… **æ­£ç¡®çš„ç›®å½•ç»“æ„**

ç”µå•†åº”ç”¨ç°åœ¨ä½¿ç”¨æ­£ç¡®çš„ç›®å½•ç»“æ„ï¼Œæ‰€æœ‰åº”ç”¨ç‰¹å®šçš„ä»£ç éƒ½åœ¨ `applications/ecommerce/` ä¸‹ï¼š

```
applications/ecommerce/              # åº”ç”¨æ ¹ç›®å½•
â”œâ”€â”€ modules/                         # ä¸šåŠ¡æ¨¡å— (Bounded Contexts)
â”‚   â””â”€â”€ order/                       # è®¢å•æ¨¡å—
â”‚       â”œâ”€â”€ errors.py                # é”™è¯¯ç 
â”‚       â”œâ”€â”€ domain/                  # é¢†åŸŸå±‚
â”‚       â”œâ”€â”€ application/             # åº”ç”¨å±‚
â”‚       â”œâ”€â”€ adapters/                # é€‚é…å™¨å±‚
â”‚       â””â”€â”€ interfaces/              # æ¥å£å±‚
â”œâ”€â”€ persistence/                     # âœ… åº”ç”¨çš„æŒä¹…åŒ–å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ models.py                    # SQLAlchemy æ¨¡å‹ï¼ˆåº”ç”¨ç‰¹å®šï¼‰
â”œâ”€â”€ runtime/                         # è¿è¡Œæ—¶é…ç½®
â”‚   â”œâ”€â”€ composition.py               # ä¾èµ–æ³¨å…¥
â”‚   â””â”€â”€ bootstrap.py                 # åº”ç”¨å¯åŠ¨
â”œâ”€â”€ main.py                          # å…¥å£æ–‡ä»¶
â”œâ”€â”€ requirements.txt                 # ä¾èµ–
â””â”€â”€ docs/                            # æ–‡æ¡£
```

## ğŸ“‹ **åŸåˆ™**

### âœ… **åº”ç”¨ä»£ç åº”è¯¥åœ¨ `applications/` ä¸‹**

æ‰€æœ‰åº”ç”¨ç‰¹å®šçš„ä»£ç ï¼ˆåŒ…æ‹¬æŒä¹…åŒ–æ¨¡å‹ï¼‰éƒ½åº”è¯¥åœ¨åº”ç”¨ç›®å½•ä¸‹ï¼š

- âœ… **æ­£ç¡®**: `applications/ecommerce/persistence/models.py`
- âŒ **é”™è¯¯**: `persistence/models.py` (è¿™æ˜¯æ¡†æ¶æ ¸å¿ƒç›®å½•)

### âœ… **æ¡†æ¶ä»£ç åº”è¯¥åœ¨æ ¹ç›®å½•ä¸‹**

æ¡†æ¶æ ¸å¿ƒç»„ä»¶åº”è¯¥åœ¨æ ¹ç›®å½•ä¸‹ï¼Œå¯è¢«æ‰€æœ‰åº”ç”¨å…±äº«ï¼š

- âœ… `src/` - æ¡†æ¶æ ¸å¿ƒ
- âœ… `runtime/` - æ¡†æ¶è¿è¡Œæ—¶ï¼ˆå¦‚æœæ˜¯é€šç”¨çš„ï¼‰
- âœ… `persistence/` - æ¡†æ¶çš„æŒä¹…åŒ–åŸºç¡€è®¾æ–½

### âœ… **ç¤ºä¾‹ä»£ç åº”è¯¥åœ¨ `examples/` ä¸‹**

ç¤ºä¾‹å’Œæ¼”ç¤ºä»£ç åº”è¯¥åœ¨ä¸“é—¨çš„ç›®å½•ï¼š

- âœ… `examples/minimal_app/`
- âœ… `examples/order/` (å¦‚æœä½œä¸ºç¤ºä¾‹)

## ğŸ”„ **å·²ä¿®å¤çš„é—®é¢˜**

### é—®é¢˜ 1: åº”ç”¨æ¨¡å‹æ”¾åœ¨æ¡†æ¶æ ¸å¿ƒç›®å½• âŒ

**ä¹‹å‰ï¼ˆé”™è¯¯ï¼‰**:
```
persistence/models.py           # âŒ ç”µå•†åº”ç”¨çš„æ¨¡å‹æ”¾åœ¨æ¡†æ¶ç›®å½•
â””â”€â”€ OrderModel, OrderItemModel  # åº”ç”¨ç‰¹å®šçš„æ¨¡å‹
```

**ç°åœ¨ï¼ˆæ­£ç¡®ï¼‰**:
```
applications/ecommerce/persistence/models.py  # âœ… åº”ç”¨æ¨¡å‹åœ¨åº”ç”¨ç›®å½•ä¸‹
â””â”€â”€ OrderModel, OrderItemModel                # åº”ç”¨ç‰¹å®šçš„æ¨¡å‹
```

**å¯¼å…¥æ–¹å¼**:
```python
# âŒ ä¹‹å‰ï¼ˆé”™è¯¯ï¼‰
from persistence.models import OrderModel

# âœ… ç°åœ¨ï¼ˆæ­£ç¡®ï¼‰
from applications.ecommerce.persistence.models import OrderModel
```

## ğŸ—‚ï¸ **å®Œæ•´ç›®å½•å¯¹æ¯”**

### Bento Frameworkï¼ˆæ¡†æ¶æ ¸å¿ƒï¼‰

```
bento/
â”œâ”€â”€ src/                           # âœ… æ¡†æ¶æ ¸å¿ƒ
â”‚   â”œâ”€â”€ domain/                   # DDD åŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ application/              # åº”ç”¨å±‚æ¥å£
â”‚   â”œâ”€â”€ persistence/              # æŒä¹…åŒ–åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ messaging/                # æ¶ˆæ¯ç³»ç»Ÿ
â”‚   â””â”€â”€ core/                     # æ ¸å¿ƒå·¥å…·
â”œâ”€â”€ runtime/                       # âœ… æ¡†æ¶è¿è¡Œæ—¶ï¼ˆé€šç”¨ï¼‰
â”œâ”€â”€ examples/                      # âœ… ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ minimal_app/
â””â”€â”€ docs/                          # âœ… æ¡†æ¶æ–‡æ¡£
```

### E-commerce Applicationï¼ˆåº”ç”¨ï¼‰

```
bento/
â””â”€â”€ applications/                  # æ‰€æœ‰åº”ç”¨
    â””â”€â”€ ecommerce/                 # âœ… ç”µå•†åº”ç”¨
        â”œâ”€â”€ modules/               # ä¸šåŠ¡æ¨¡å—
        â”œâ”€â”€ persistence/           # âœ… åº”ç”¨çš„æŒä¹…åŒ–ï¼ˆæ–°ä½ç½®ï¼‰
        â”œâ”€â”€ runtime/               # åº”ç”¨çš„è¿è¡Œæ—¶é…ç½®
        â”œâ”€â”€ main.py
        â””â”€â”€ docs/
```

## âœ… **å·²æ¸…ç†çš„ç›®å½•**

### å·²åˆ é™¤çš„ç›®å½•

#### 1. `modules/order/` - âœ… å·²åˆ é™¤

æ—§çš„è®¢å•ç¤ºä¾‹ä»£ç ï¼Œå·²è¢«æ¸…ç†ï¼š

```
modules/                           # âŒ å·²åˆ é™¤
â””â”€â”€ order/                         # æ—§çš„ç¤ºä¾‹ä»£ç 
    â”œâ”€â”€ adapters/
    â”œâ”€â”€ application/
    â”œâ”€â”€ domain/
    â””â”€â”€ interfaces/
```

**æ¸…ç†åŸå› **:
- âœ… åŠŸèƒ½å·²è¢« `applications/ecommerce/` å®Œå…¨è¦†ç›–
- âœ… æ–°å®ç°æ›´å®Œæ•´ï¼ˆ1,404 è¡Œ vs ç®€å•ç¤ºä¾‹ï¼‰
- âœ… é¿å…æ··æ·†

#### 2. `persistence/` - âœ… å·²åˆ é™¤

ç©ºç›®å½•ï¼ˆä¹‹å‰é”™è¯¯æ”¾ç½®äº†åº”ç”¨æ¨¡å‹ï¼‰ï¼š

```
persistence/                       # âŒ å·²åˆ é™¤ï¼ˆç©ºç›®å½•ï¼‰
â””â”€â”€ models.py                      # å·²ç§»åŠ¨åˆ° applications/ecommerce/persistence/
```

**æ¸…ç†åŸå› **:
- âœ… åº”ç”¨æ¨¡å‹å·²ç§»åˆ°æ­£ç¡®ä½ç½®
- âœ… åˆ é™¤æ— ç”¨çš„ç©ºç›®å½•

### âš ï¸ **ä¿ç•™çš„æ—§ä»£ç ï¼ˆä¾›å‚è€ƒï¼‰**

ä»¥ä¸‹ç›®å½•ä¿ç•™ç”¨äºå‚è€ƒå’Œè¿ç§»ï¼š

#### 1. `old/` - ä¿ç•™

å¤§é‡æ—§ç³»ç»Ÿä»£ç ï¼ˆ455+ æ–‡ä»¶ï¼‰ï¼ŒåŒ…å«æ—§çš„å®ç°ï¼š

```
old/
â”œâ”€â”€ infrastructure/               # æ—§çš„åŸºç¡€è®¾æ–½å®ç°
â”œâ”€â”€ domain/                       # æ—§çš„é¢†åŸŸæ¨¡å‹
â”œâ”€â”€ application/                  # æ—§çš„åº”ç”¨å±‚
â”œâ”€â”€ exception/                    # æ—§çš„å¼‚å¸¸ç³»ç»Ÿ
â””â”€â”€ examples/                     # æ—§çš„ç¤ºä¾‹
```

**ä¿ç•™åŸå› **: å¯èƒ½éœ€è¦å‚è€ƒæ—§å®ç°

#### 2. `runtime/` - æ¡†æ¶ç»„æˆéƒ¨åˆ† âœ…

**æ¡†æ¶çº§åˆ«çš„è¿è¡Œæ—¶æ¨¡æ¿**ï¼ˆå·²ä¿®å¤ï¼‰ï¼š

```
runtime/
â”œâ”€â”€ bootstrap.py                  # âœ… æ¡†æ¶é»˜è®¤å¯åŠ¨æ¨¡æ¿
â”œâ”€â”€ composition.py                # âœ… ä¾èµ–æ³¨å…¥å ä½ç¬¦
â”œâ”€â”€ jobs.py                       # âœ… åå°ä»»åŠ¡å ä½ç¬¦
â””â”€â”€ README.md                     # ä½¿ç”¨è¯´æ˜
```

**ç”¨é€”**: 
- æä¾›é€šç”¨çš„ FastAPI å¯åŠ¨æ¨¡æ¿
- ç”¨äºç¤ºä¾‹åº”ç”¨ï¼ˆ`examples/minimal_app/`ï¼‰
- ç”¨äºæµ‹è¯•ï¼ˆ`tests/`ï¼‰

**æ³¨æ„**: åº”ç”¨åº”åˆ›å»ºè‡ªå·±çš„ runtimeï¼Œå¦‚ `applications/ecommerce/runtime/`

## ğŸ“ **å‘½åçº¦å®š**

### åº”ç”¨ç›®å½•å‘½å

```
applications/
â”œâ”€â”€ ecommerce/              # âœ… å°å†™ï¼Œä¸‹åˆ’çº¿
â”œâ”€â”€ blog_platform/          # âœ… å¤šå•è¯ç”¨ä¸‹åˆ’çº¿
â””â”€â”€ cms_system/             # âœ… ç¼©å†™ä¹Ÿç”¨å°å†™
```

### æ¨¡å—ç›®å½•å‘½å

```
applications/ecommerce/modules/
â”œâ”€â”€ order/                  # âœ… å•æ•°å½¢å¼
â”œâ”€â”€ product/                # âœ… å•æ•°å½¢å¼
â””â”€â”€ customer/               # âœ… å•æ•°å½¢å¼
```

## ğŸ¯ **æœ€ä½³å®è·µ**

### 1. **åº”ç”¨éš”ç¦»**

æ¯ä¸ªåº”ç”¨éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ‹¥æœ‰è‡ªå·±çš„ï¼š
- æŒä¹…åŒ–æ¨¡å‹
- è¿è¡Œæ—¶é…ç½®
- ä¾èµ–æ–‡ä»¶
- æ–‡æ¡£

### 2. **æ¡†æ¶å…±äº«**

æ‰€æœ‰åº”ç”¨å…±äº«æ¡†æ¶æ ¸å¿ƒï¼š
- `src/domain/` - DDD åŸºç¡€ç»„ä»¶
- `src/persistence/` - æŒä¹…åŒ–åŸºç¡€è®¾æ–½
- `src/messaging/` - æ¶ˆæ¯ç³»ç»Ÿ

### 3. **æ¸…æ™°åˆ†ç¦»**

```
æ¡†æ¶ (src/)          â†’ å¯å¤ç”¨çš„åŸºç¡€è®¾æ–½
åº”ç”¨ (applications/) â†’ ç‰¹å®šçš„ä¸šåŠ¡é€»è¾‘
ç¤ºä¾‹ (examples/)     â†’ å­¦ä¹ å’Œæ¼”ç¤º
```

## ğŸš€ **åˆ›å»ºæ–°åº”ç”¨çš„æ¨¡æ¿**

```bash
applications/
â””â”€â”€ {app_name}/
    â”œâ”€â”€ modules/                   # ä¸šåŠ¡æ¨¡å—
    â”‚   â””â”€â”€ {module}/
    â”‚       â”œâ”€â”€ errors.py
    â”‚       â”œâ”€â”€ domain/
    â”‚       â”œâ”€â”€ application/
    â”‚       â”œâ”€â”€ adapters/
    â”‚       â””â”€â”€ interfaces/
    â”œâ”€â”€ persistence/               # åº”ç”¨çš„æŒä¹…åŒ–
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â””â”€â”€ models.py             # SQLAlchemy æ¨¡å‹
    â”œâ”€â”€ runtime/                   # è¿è¡Œæ—¶é…ç½®
    â”‚   â”œâ”€â”€ composition.py        # ä¾èµ–æ³¨å…¥
    â”‚   â””â”€â”€ bootstrap.py          # å¯åŠ¨é…ç½®
    â”œâ”€â”€ main.py                    # å…¥å£
    â”œâ”€â”€ requirements.txt           # ä¾èµ–
    â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡
    â””â”€â”€ README.md                  # æ–‡æ¡£
```

## ğŸ“š **å‚è€ƒ**

- [é¡¹ç›®å¸ƒå±€æŒ‡å—](../../docs/architecture/TARGET_STRUCTURE.md)
- [åº”ç”¨ç¤ºä¾‹](../README.md)
- [æ¡†æ¶æ–‡æ¡£](../../docs/README.md)

---

**æ€»ç»“**: åº”ç”¨ç‰¹å®šçš„ä»£ç ï¼ˆåŒ…æ‹¬æŒä¹…åŒ–æ¨¡å‹ï¼‰åº”è¯¥æ”¾åœ¨ `applications/{app_name}/` ä¸‹ï¼Œè€Œä¸æ˜¯æ¡†æ¶æ ¸å¿ƒç›®å½•ã€‚âœ…

