# 📋 许可证变更计划

## 当前状态

- **当前许可证**: MIT License（开源）
- **已发布版本**: 0.1.0a2, 0.1.1（公开在 PyPI）
- **仓库**: GitHub 公开仓库

## 变更目标

- **新许可证**: idp.xyz 私有封闭许可证
- **限制**: 未经授权不得商业使用、修改、分发

## ⚠️ 重要法律考虑

### 已发布版本的影响

**关键事实**：
1. 0.1.0a2 和 0.1.1 已在 MIT License 下发布到 PyPI
2. **MIT License 是不可撤销的**
3. 任何已下载这些版本的人永久拥有 MIT License 下的权利

**这意味着**：
- ✅ 可以为**未来版本**（v0.2.0+）更改许可证
- ⚠️ **无法**更改已发布版本（0.1.1）的许可证
- ⚠️ 已下载的用户仍可在 MIT 下使用 0.1.1

### 建议策略

#### 选项 1: 许可证升级策略（推荐）

从 v0.2.0 开始使用新许可证：

```
v0.1.x (MIT License) ← 已发布，不可更改
    ↓
v0.2.0+ (idp.xyz Proprietary License) ← 新许可证
```

**优点**：
- 法律清晰
- 尊重已有用户的权利
- 平滑过渡

**实施**：
1. 在 v0.1.1 后立即更改许可证
2. 在 CHANGELOG 和 Release Notes 中明确说明
3. v0.2.0 是第一个私有许可证版本

#### 选项 2: 从 PyPI 撤回并重新发布

**注意**: 这不能更改许可证，只是清理

```
1. 从 PyPI 删除 0.1.x 版本
2. 更新许可证
3. 以 1.0.0 重新开始
```

**缺点**：
- 可能会让早期用户困惑
- 不能改变已下载用户的权利

#### 选项 3: 双许可证策略

```
个人/开源项目：MIT License
商业使用：idp.xyz Proprietary License
```

**适用场景**：
- 想保持开源社区
- 同时获得商业收益

## 📝 许可证变更检查清单

### 文件修改

- [ ] `LICENSE` - 完全替换
- [ ] `pyproject.toml` - 更新 `license` 字段
- [ ] `README.md` - 添加许可证说明
- [ ] 所有源代码文件 - 更新文件头注释（可选）
- [ ] `.github/workflows/` - 检查是否需要更新
- [ ] 文档 - 添加许可证条款

### PyPI 管理

- [ ] 更新包元数据（下个版本）
- [ ] 在项目描述中明确说明
- [ ] 考虑是否继续使用 PyPI

### GitHub 管理

- [ ] 更新仓库设置（公开/私有）
- [ ] 更新仓库许可证徽章
- [ ] 添加贡献指南（如果允许贡献）
- [ ] 更新 README 顶部许可证信息

### 法律和合规

- [ ] 确认公司法律顾问（如果有）
- [ ] 准备 EULA（最终用户许可协议）
- [ ] 决定分发方式（私有 PyPI、直接交付等）
- [ ] 准备商业授权模板

## 📜 许可证草案要点

一个私有封闭许可证应该包括：

1. **版权声明**
   - 明确版权所有者（idp.xyz）
   - 年份和保留所有权利声明

2. **授予的权利**
   - 内部使用权
   - 评估/测试权（如果允许）
   - 明确禁止的使用

3. **限制条款**
   - 禁止商业使用（除非授权）
   - 禁止修改
   - 禁止分发/再许可
   - 禁止反向工程

4. **免责声明**
   - "按原样"提供
   - 无保证声明
   - 责任限制

5. **终止条款**
   - 违反许可证的后果
   - 许可证终止条件

6. **其他条款**
   - 管辖法律
   - 争议解决
   - 许可证更新政策

## 🎯 推荐实施方案

### 立即行动（今天）

1. **创建新许可证文件**
   ```bash
   # 创建 idp.xyz 私有许可证
   ```

2. **更新 pyproject.toml**
   ```toml
   license = { text = "Proprietary" }
   ```

3. **提交但不发布**
   ```bash
   git add LICENSE pyproject.toml
   git commit -m "chore: change license to idp.xyz proprietary"
   git push
   ```

### 下一个版本（v0.2.0）

1. **明确在 Release Notes 说明**
   ```markdown
   ## ⚠️ License Change

   Starting from v0.2.0, Bento Framework is licensed under
   idp.xyz Proprietary License.

   Previous versions (v0.1.x) remain under MIT License.
   ```

2. **更新 README**
   ```markdown
   ## License

   **v0.2.0+**: Proprietary - © 2025 idp.xyz. All Rights Reserved.
   **v0.1.x**: MIT License
   ```

3. **考虑分发渠道**
   - 继续使用 PyPI（公开但限制使用）
   - 使用私有 PyPI（如 Gemfury、JFrog）
   - 直接分发（邮件、下载链接）

## ⚠️ 风险和注意事项

1. **社区反应**
   - MIT → 私有可能引起负面反应
   - 建议在变更前与用户沟通

2. **已有用户**
   - 尊重已在 MIT 下使用的用户
   - 提供明确的升级路径

3. **GitHub 仓库**
   - 如果仓库是公开的，任何人都能看到代码
   - 考虑转为私有仓库

4. **贡献者**
   - 如果有外部贡献者，需要他们同意
   - 可能需要 CLA（贡献者许可协议）

## 📞 需要决定的问题

在实施前，请确认：

1. ✅ **确认变更原因**？
   - [ ] 商业保护
   - [ ] 限制竞争对手
   - [ ] 其他原因

2. ✅ **目标用户**？
   - [ ] 仅内部使用
   - [ ] 授权客户
   - [ ] 付费用户

3. ✅ **分发方式**？
   - [ ] 继续 PyPI（带限制）
   - [ ] 私有 PyPI
   - [ ] 直接交付

4. ✅ **GitHub 仓库**？
   - [ ] 保持公开
   - [ ] 转为私有
   - [ ] 新建私有仓库

5. ✅ **已发布版本**？
   - [ ] 接受 v0.1.x 保持 MIT
   - [ ] 从 PyPI 撤回（但不改变许可）

---

**准备好了吗？请确认以上选项，我将帮你创建新的许可证。**
